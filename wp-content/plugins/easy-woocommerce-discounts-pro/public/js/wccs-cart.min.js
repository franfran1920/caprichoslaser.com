!function(t){"use strict";function i(){this.init=this.init.bind(this),this.updateCartContent=this.updateCartContent.bind(this),this.shippingCalculatorSubmit=this.shippingCalculatorSubmit.bind(this),this.updateCartContentOnShippingSubmit=this.updateCartContentOnShippingSubmit.bind(this),this.init()}i.prototype.init=function(){this.$cartForm=t(".woocommerce-cart-form"),this.$shippingCalculatorForm=t("from.woocommerce-shipping-calculator")},i.prototype.shippingListeners=function(){this.$cartForm.length&&wccs_cart_params&&"disabled"!==wccs_cart_params.update_cart_on_shipping_change&&(t(document.body).on("updated_shipping_method",this.updateCartContent),this.$shippingCalculatorForm&&(t(document.body).on("updated_wc_div",this.updateCartContentOnShippingSubmit),t(document).on("submit",this.$shippingCalculatorForm,this.shippingCalculatorSubmit)))},i.prototype.updateCartContent=function(){t(document.body).trigger("wc_update_cart",!1)},i.prototype.updateCartContentOnShippingSubmit=function(){this.shippingCalculatorSubmited&&(this.updateCartContent(),this.shippingCalculatorSubmited=!1)},i.prototype.shippingCalculatorSubmit=function(){this.shippingCalculatorSubmited=!0};var n,o={getInstance:function(){return n=n||new i}};t.fn.wccs_get_cart=function(){return o.getInstance()},t(function(){t().wccs_get_cart().shippingListeners()})}(jQuery);